local Components = require "necro.game.data.Components"
local TextPool = require "necro.config.i18n.TextPool"
local Translation = require "necro.config.i18n.Translation"

local textPoolPrefix = "mod.Roulette"
TextPool.registerTable(textPoolPrefix, {
	availableDuringYourTurn = "Available during your turn",
	["bad.drop"] = "Drop",
	["bad.equip"] = "Equip",
	["bad.unequip"] = "Unequip",
	duplicate = "Duplicate!",
	guide = "Guide",
	guideCurrentMode = "(Current Mode)",
	guideRoulette = "Roulette Guide",
	["guide.manualEnemy"] = "Enemy Manual",
	["guide.manualItem"] = "Item Manual",
	["guide.rogue"] = "All Zone Gambling Mode",
	["guide.standard"] = "Standard Mode",
	jacophix = "Jacophix",
	matchFull = "Match was full",
	matchNumberExceed = "Maximum matches number exceed",
	necromancyRevive = "Reanimated by %s!",
	ringSwapLimited = "You can only change ring once per turn",
	rouletteLobby = "Roulette Lobby",
	shrink = "Shrink!",
	spectatorKiller = "Spectating",
})
local textPoolTranslations = {
	[Translation.Language.SIMPLIFIED_CHINESE] = {
		availableDuringYourTurn = "你的回合可用",
		["bad.drop"] = "丢弃",
		["bad.equip"] = "装备",
		["bad.unequip"] = "卸下",
		duplicate = "复制！",
		guide = "指南",
		guideCurrentMode = "（当前模式）",
		guideRoulette = "轮盘赌指南",
		["guide.manualEnemy"] = "敌人手册",
		["guide.manualItem"] = "物品手册",
		["guide.rogue"] = "全区赌博模式",
		["guide.standard"] = "标准模式",
		["label.triggerRogue"] = "全区域赌博",
		matchFull = "匹配已满",
		matchNumberExceed = "超过最大匹配数量",
		necromancyRevive = "被 %s 复活！",
		ringSwapLimited = "每回合只许切换一次戒指",
		rouletteLobby = "轮盘赌大厅",
		shrink = "缩小！",
		spectatorKiller = "观战",
	},
	[Translation.Language.TRADITIONAL_CHINESE] = {
		availableDuringYourTurn = "妳的回合可用",
		["bad.drop"] = "丟棄",
		["bad.equip"] = "裝備",
		["bad.unequip"] = "卸下",
		duplicate = "複制！",
		guide = "指南",
		guideCurrentMode = "（當前模式）",
		guideRoulette = "輪盤賭指南",
		["guide.manualEnemy"] = "敵人手冊",
		["guide.manualItem"] = "物品手冊",
		["guide.rogue"] = "全區賭博模式",
		["guide.standard"] = "標准模式",
		["label.triggerRogue"] = "全區域賭博",
		matchFull = "匹配已滿",
		matchNumberExceed = "超過最大匹配數量",
		necromancyRevive = "被 %s 複活！",
		ringSwapLimited = "每回合只許切換壹次戒指",
		rouletteLobby = "輪盤賭大廳",
		shrink = "縮小！",
		spectatorKiller = "觀戰",
	},
}
event.textPoolUpdate.add("localization", "finalize", function(ev)
	local data = textPoolTranslations[Translation.getSessionTranslation()]
	if data then
		local prefix = textPoolPrefix .. "."
		for k, v in pairs(data) do
			ev.entries[prefix .. k] = v
		end
	end
end)

local entityTranslations = {
	[Translation.Language.SIMPLIFIED_CHINESE] = {
		["Roulette_ArmorChainmail.Roulette_hintLabel.text"] = "1 防御",
		["Roulette_ArmorChainmail.friendlyName.name"] = "锁子甲",
		["Roulette_ArmorHeavyplate.Roulette_hintLabel.text"] = "2 防御",
		["Roulette_ArmorHeavyplate.friendlyName.name"] = "重甲",
		["Roulette_ArmorLeather.Roulette_hintLabel.text"] = "0.5 防御",
		["Roulette_ArmorLeather.friendlyName.name"] = "皮革甲",
		["Roulette_ArmorPlatemail.Roulette_hintLabel.text"] = "1.5 防御",
		["Roulette_ArmorPlatemail.friendlyName.name"] = "板甲",
		["Roulette_ArmorQuartz.Roulette_hintLabel.text"] = "0.5 防御，+1 先攻",
		["Roulette_ArmorQuartz.friendlyName.name"] = "石英甲",
		["Roulette_BagRogue.friendlyName.name"] = "背包",
		["Roulette_BagRogue2.friendlyName.name"] = "大背包",
		["Roulette_Bomb.Roulette_hintLabel.text"] = "炸掉对手的道具\n对对手使用",
		["Roulette_Bomb.friendlyName.name"] = "炸弹",
		["Roulette_CursedPotion.Roulette_hintLabel.text"] = "+2/-1 健康, 50% 概率\n对友方或自己使用",
		["Roulette_CursedPotion.friendlyName.name"] = "葡萄汁",
		["Roulette_FoodCookies.Roulette_hintLabel.text"] = "+1 健康\n对自己使用",
		["Roulette_FoodCookies.friendlyName.name"] = "曲奇",
		["Roulette_Gun.Roulette_gunHintLabelOnCursor.text"] = "%s 伤害\n对对手或自己使用",
		["Roulette_HeadCircletTelepathy.Roulette_hintLabel.text"] = "告知随机子弹\n对枪使用",
		["Roulette_HeadCircletTelepathy.Roulette_itemUseTellGunBulletFlyaway.fallback"] = "有意思...",
		["Roulette_HeadCircletTelepathy.Roulette_itemUseTellGunBulletFlyaway.format"] = "第 %s 发是... %s",
		["Roulette_HeadCircletTelepathy.friendlyName.name"] = "读心头环",
		["Roulette_HeadCrownOfGreed.friendlyName.name"] = "贪婪王冠",
		["Roulette_HeadMonocle.Roulette_hintLabel.text"] = "告知当前子弹\n对枪使用",
		["Roulette_HeadMonocle.Roulette_itemUseTellGunBulletFlyaway.format"] = "%s发子弹是 %s",
		["Roulette_HeadMonocle.friendlyName.name"] = "单片眼镜",
		["Roulette_HeartContainer1.friendlyName.name"] = "心之容器",
		["Roulette_HeartContainer2.friendlyName.name"] = "心之容器",
		["Roulette_HeartContainer3.friendlyName.name"] = "心之容器",
		["Roulette_HeartContainer4.friendlyName.name"] = "心之容器",
		["Roulette_HeartTransplant.Roulette_hintLabel.text"] = "+1 额外动作\n对自己使用",
		["Roulette_HeartTransplant.friendlyName.name"] = "心脏移植",
		["Roulette_MiscMonkeyPaw.Roulette_hintLabel.text"] = "偷窃一个物品\n对对手物品使用",
		["Roulette_MiscMonkeyPaw.friendlyName.name"] = "猴爪",
		["Roulette_RingProtection.Roulette_hintLabel.text"] = "死亡保护，每轮充能",
		["Roulette_RingProtection.friendlyName.name"] = "守护指环",
		["Roulette_ScrollCharm.Roulette_hintLabel.text"] = "魅惑对手 5 回合\n对对手使用",
		["Roulette_ScrollCharm.friendlyName.name"] = "魅惑卷轴",
		["Roulette_ScrollConvertBlankShell.Roulette_hintLabel.text"] = "转换所有子弹为空弹\n对枪使用",
		["Roulette_ScrollConvertBlankShell.friendlyName.name"] = "空弹卷轴",
		["Roulette_ScrollConvertLiveShell.Roulette_hintLabel.text"] = "转换所有子弹为实弹\n对枪使用",
		["Roulette_ScrollConvertLiveShell.friendlyName.name"] = "实弹卷轴",
		["Roulette_ScrollDuplicate.Roulette_hintLabel.text"] = "复制一个物品或敌人\n对物品或对手使用",
		["Roulette_ScrollDuplicate.friendlyName.name"] = "复制卷轴",
		["Roulette_ScrollFireball.Roulette_hintLabel.text"] = "灼烧枪，伤害x3\n对枪使用",
		["Roulette_ScrollFireball.friendlyName.name"] = "火焰卷轴",
		["Roulette_ScrollSilence.Roulette_hintLabel.text"] = "使一个对手永久沉默\n对对手使用",
		["Roulette_ScrollSilence.friendlyName.name"] = "沉默卷轴",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawayInactive"] = "在你的回合激活",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawayActivated"] = "已激活",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawayPoor"] = "金币不足",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawaySuccess"] = "向自己发射空弹以逃脱",
		["Roulette_SpellDisengageBlank.friendlyName.name"] = "脱战法术",
		["Roulette_SpellDisengageBlank.itemHintLabel.text"] = "脱战法术（空弹）",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawayInactive"] = "在你的回合激活",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawayActivated"] = "已激活",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawayPoor"] = "金币不足",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawaySuccess"] = "向自己发射实弹以逃脱",
		["Roulette_SpellDisengageLive.friendlyName.name"] = "脱战法术",
		["Roulette_SpellDisengageLive.itemHintLabel.text"] = "脱战法术（实弹）",
		["Roulette_TomeCharm.Roulette_hintLabel.text"] = "魅惑对手 2 回合\n对对手使用",
		["Roulette_TomeCharm.friendlyName.name"] = "魅惑魔典",
		["Roulette_TomeConvertBlankShell.Roulette_hintLabel.text"] = "将最后一发实弹转换成空弹\n对枪使用",
		["Roulette_TomeConvertBlankShell.friendlyName.name"] = "空弹魔典",
		["Roulette_TomeConvertLiveShell.Roulette_hintLabel.text"] = "将最后一发空弹转换成实弹\n对枪使用",
		["Roulette_TomeConvertLiveShell.friendlyName.name"] = "实弹魔典",
		["Roulette_TomeFireball.Roulette_hintLabel.text"] = "灼烧枪，伤害x2\n对枪使用",
		["Roulette_TomeFireball.friendlyName.name"] = "火焰魔典",
		["Roulette_TomeFreeze.Roulette_hintLabel.text"] = "冻结对手一回合\n对对手使用",
		["Roulette_TomeFreeze.friendlyName.name"] = "冰冻魔典",
		["Roulette_TomeShield.Roulette_hintLabel.text"] = "无敌护盾 1 回合, 并跳过当前回合\n对友方或自己使用",
		["Roulette_TomeShield.friendlyName.name"] = "护盾魔典",
		["Roulette_TomeSilence.Roulette_hintLabel.text"] = "使一个对手沉默3回合\n对对手使用",
		["Roulette_TomeSilence.friendlyName.name"] = "沉默魔典",
		["Roulette_TomeTransmute.Roulette_hintLabel.text"] = "转换当前子弹\n对枪使用",
		["Roulette_TomeTransmute.friendlyName.name"] = "变换魔典",
		["Roulette_TriggerRogueMode.worldLabel.text"] = "全区赌博",
		["BloodDrum.Roulette_hintLabel.text"] = "乘 2 伤害\n对枪使用",
		["Carrot.Roulette_hintLabel.text"] = "+1健康\n对友方或自己使用",
		["CharmFrost.Roulette_hintLabel.text"] = "冻结攻击者，每局充能",
		["CharmGluttony.Roulette_hintLabel.text"] = "更多治疗道具，暴食奖励额外行动力",
		["CharmLuck.Roulette_hintLabel.text"] = "+1 幸运",
		["CharmProtection.Roulette_hintLabel.text"] = "+2 防御，每局充能",
		["CharmRisk.Roulette_hintLabel.text"] = "低血量 +1 伤害",
		["CharmStrength.Roulette_hintLabel.text"] = "第一轮 +1 伤害",
		["FeetBootsExplorers.Roulette_hintLabel.text"] = "+1 先攻",
		["FeetBootsLeaping.Roulette_hintLabel.text"] = "+2 先攻，跳跃",
		["FeetBootsLunging.Roulette_hintLabel.text"] = "+3 先攻，冲刺",
		["RingCourage.Roulette_hintLabel.text"] = "自杀保护，每轮充能",
		["RingFrost.Roulette_hintLabel.text"] = "免疫冰冻",
		["RingGold.Roulette_hintLabel.text"] = "x2 金币掉落",
		["RingLuck.Roulette_hintLabel.text"] = "+2 幸运",
		["RingMana.Roulette_hintLabel.text"] = "更好的冰冻与护盾",
		["RingPain.Roulette_hintLabel.text"] = "+1 额外行动力，每回合疼痛",
		["RingPeace.Roulette_hintLabel.text"] = "不再分配鼓，+1 心之容器",
		["RingPiercing.Roulette_hintLabel.text"] = "穿刺伤害，秒杀无头骷髅",
		["RingRegeneration.Roulette_hintLabel.text"] = "击杀回血，每轮充能",
		["RingShielding.Roulette_hintLabel.text"] = "护盾守护 4 回合，每局充能",
		["RingWar.Roulette_hintLabel.text"] = "分配更多鼓，压制性伤害",
		["Food1.Roulette_hintLabel.text"] = "+1健康\n对友方或自己使用",
		["Food2.Roulette_hintLabel.text"] = "+1健康\n对友方或自己使用",
		["Food3.Roulette_hintLabel.text"] = "+1健康\n对友方或自己使用",
		["Food4.Roulette_hintLabel.text"] = "+1健康\n对友方或自己使用",
		["HolyWater.Roulette_hintLabel.text"] = "清除当前子弹\n对枪使用",
		["ScrollFreezeEnemies.Roulette_hintLabel.text"] = "冻结所有对手一回合\n对对手使用",
		["ScrollShield.Roulette_hintLabel.text"] = "无敌护盾 2 回合, 并跳过当前回合\n对友方或自己使用",
		["ScrollTransmute.Roulette_hintLabel.text"] = "转换所有子弹\n对枪使用",
		["TomeFreeze.Roulette_hintLabel.text"] = "冻结对手一回合\n对对手使用",
		["TomeShield.Roulette_hintLabel.text"] = "无敌护盾1回合, 并跳过当前回合\n对友方或自己使用",
		["TomeTransmute.Roulette_hintLabel.text"] = "转换当前子弹\n对枪使用",
		["WarDrum.Roulette_hintLabel.text"] = "+1 伤害，3/5 连击: +2/+3\n对枪使用",
	},
	[Translation.Language.TRADITIONAL_CHINESE] = {
		["Roulette_ArmorChainmail.Roulette_hintLabel.text"] = "1 防禦",
		["Roulette_ArmorChainmail.friendlyName.name"] = "鎖子甲",
		["Roulette_ArmorHeavyplate.Roulette_hintLabel.text"] = "2 防禦",
		["Roulette_ArmorHeavyplate.friendlyName.name"] = "重甲",
		["Roulette_ArmorLeather.Roulette_hintLabel.text"] = "+0.5 防禦",
		["Roulette_ArmorLeather.friendlyName.name"] = "皮革甲",
		["Roulette_ArmorPlatemail.Roulette_hintLabel.text"] = "1.5 防禦",
		["Roulette_ArmorPlatemail.friendlyName.name"] = "板甲",
		["Roulette_ArmorQuartz.Roulette_hintLabel.text"] = "0.5 防禦，+1 先攻",
		["Roulette_ArmorQuartz.friendlyName.name"] = "石英甲",
		["Roulette_BagRogue.friendlyName.name"] = "背包",
		["Roulette_BagRogue2.friendlyName.name"] = "大背包",
		["Roulette_Bomb.Roulette_hintLabel.text"] = "炸掉對手的道具\n對對手使用",
		["Roulette_Bomb.friendlyName.name"] = "炸彈",
		["Roulette_CursedPotion.Roulette_hintLabel.text"] = "+2/-1 健康, 50% 概率\n對友方或自己使用",
		["Roulette_CursedPotion.friendlyName.name"] = "葡萄汁",
		["Roulette_FoodCookies.Roulette_hintLabel.text"] = "+1 健康\n對自己使用",
		["Roulette_FoodCookies.friendlyName.name"] = "曲奇",
		["Roulette_Gun.Roulette_gunHintLabelOnCursor.text"] = "%s 傷害\n對對手或自己使用",
		["Roulette_HeadCircletTelepathy.Roulette_hintLabel.text"] = "告知隨機子彈\n對槍使用",
		["Roulette_HeadCircletTelepathy.Roulette_itemUseTellGunBulletFlyaway.fallback"] = "有意思...",
		["Roulette_HeadCircletTelepathy.Roulette_itemUseTellGunBulletFlyaway.format"] = "第 %s 發是... %s",
		["Roulette_HeadCircletTelepathy.friendlyName.name"] = "讀心頭環",
		["Roulette_HeadCrownOfGreed.friendlyName.name"] = "貪婪王冠",
		["Roulette_HeadMonocle.Roulette_hintLabel.text"] = "告知當前子彈\n對槍使用",
		["Roulette_HeadMonocle.Roulette_itemUseTellGunBulletFlyaway.format"] = "%s發子彈是 %s",
		["Roulette_HeadMonocle.friendlyName.name"] = "單片眼鏡",
		["Roulette_HeartContainer1.friendlyName.name"] = "心之容器",
		["Roulette_HeartContainer2.friendlyName.name"] = "心之容器",
		["Roulette_HeartContainer3.friendlyName.name"] = "心之容器",
		["Roulette_HeartContainer4.friendlyName.name"] = "心之容器",
		["Roulette_HeartTransplant.Roulette_hintLabel.text"] = "+1 額外動作\n對自己使用",
		["Roulette_HeartTransplant.friendlyName.name"] = "心髒移植",
		["Roulette_MiscMonkeyPaw.Roulette_hintLabel.text"] = "偷竊壹個物品\n對對手物品使用",
		["Roulette_MiscMonkeyPaw.friendlyName.name"] = "猴爪",
		["Roulette_RingProtection.Roulette_hintLabel.text"] = "死亡保護，每輪充能",
		["Roulette_RingProtection.friendlyName.name"] = "守護指環",
		["Roulette_ScrollCharm.Roulette_hintLabel.text"] = "魅惑對手 5 回合\n對對手使用",
		["Roulette_ScrollCharm.friendlyName.name"] = "魅惑卷軸",
		["Roulette_ScrollConvertBlankShell.Roulette_hintLabel.text"] = "轉換所有子彈爲空彈\n對槍使用",
		["Roulette_ScrollConvertBlankShell.friendlyName.name"] = "空彈卷軸",
		["Roulette_ScrollConvertLiveShell.Roulette_hintLabel.text"] = "轉換所有子彈爲實彈\n對槍使用",
		["Roulette_ScrollConvertLiveShell.friendlyName.name"] = "實彈卷軸",
		["Roulette_ScrollDuplicate.Roulette_hintLabel.text"] = "複制壹個物品或敵人\n對物品或對手使用",
		["Roulette_ScrollDuplicate.friendlyName.name"] = "複制卷軸",
		["Roulette_ScrollFireball.Roulette_hintLabel.text"] = "灼燒槍，傷害x3\n對槍使用",
		["Roulette_ScrollFireball.friendlyName.name"] = "火焰卷軸",
		["Roulette_ScrollSilence.Roulette_hintLabel.text"] = "使壹個對手永久沈默\n對對手使用",
		["Roulette_ScrollSilence.friendlyName.name"] = "沈默卷軸",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawayInactive"] = "在妳的回合激活",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawayActivated"] = "已激活",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawayPoor"] = "金幣不足",
		["Roulette_SpellDisengageBlank.Roulette_itemUseSetGamblerDisengage.flyawaySuccess"] = "向自己發射空彈以逃脫",
		["Roulette_SpellDisengageBlank.friendlyName.name"] = "脫戰法術",
		["Roulette_SpellDisengageBlank.itemHintLabel.text"] = "脫戰法術（空彈）",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawayInactive"] = "在妳的回合激活",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawayActivated"] = "已激活",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawayPoor"] = "金幣不足",
		["Roulette_SpellDisengageLive.Roulette_itemUseSetGamblerDisengage.flyawaySuccess"] = "向自己發射實彈以逃脫",
		["Roulette_SpellDisengageLive.friendlyName.name"] = "脫戰法術",
		["Roulette_SpellDisengageLive.itemHintLabel.text"] = "脫戰法術（實彈）",
		["Roulette_TomeCharm.Roulette_hintLabel.text"] = "魅惑對手 2 回合\n對對手使用",
		["Roulette_TomeCharm.friendlyName.name"] = "魅惑魔典",
		["Roulette_TomeConvertBlankShell.Roulette_hintLabel.text"] = "將最後壹發實彈轉換成空彈\n對槍使用",
		["Roulette_TomeConvertBlankShell.friendlyName.name"] = "空彈魔典",
		["Roulette_TomeConvertLiveShell.Roulette_hintLabel.text"] = "將最後壹發空彈轉換成實彈\n對槍使用",
		["Roulette_TomeConvertLiveShell.friendlyName.name"] = "實彈魔典",
		["Roulette_TomeFireball.Roulette_hintLabel.text"] = "灼燒槍，傷害x2\n對槍使用",
		["Roulette_TomeFireball.friendlyName.name"] = "火焰魔典",
		["Roulette_TomeFreeze.Roulette_hintLabel.text"] = "凍結對手壹回合\n對對手使用",
		["Roulette_TomeFreeze.friendlyName.name"] = "冰凍魔典",
		["Roulette_TomeShield.Roulette_hintLabel.text"] = "無敵護盾 1 回合, 並跳過當前回合\n對友方或自己使用",
		["Roulette_TomeShield.friendlyName.name"] = "護盾魔典",
		["Roulette_TomeSilence.Roulette_hintLabel.text"] = "使壹個對手沈默3回合\n對對手使用",
		["Roulette_TomeSilence.friendlyName.name"] = "沈默魔典",
		["Roulette_TomeTransmute.Roulette_hintLabel.text"] = "轉換當前子彈\n對槍使用",
		["Roulette_TomeTransmute.friendlyName.name"] = "變換魔典",
		["Roulette_TriggerRogueMode.worldLabel.text"] = "全區賭博",
		["BloodDrum.Roulette_hintLabel.text"] = "乘 2 傷害\n對槍使用",
		["Carrot.Roulette_hintLabel.text"] = "+1健康\n對友方或自己使用",
		["CharmFrost.Roulette_hintLabel.text"] = "凍結攻擊者，每局充能",
		["CharmGluttony.Roulette_hintLabel.text"] = "更多治療道具，暴食獎勵額外行動力",
		["CharmLuck.Roulette_hintLabel.text"] = "+1 幸運",
		["CharmProtection.Roulette_hintLabel.text"] = "+2 防禦，每局充能",
		["CharmRisk.Roulette_hintLabel.text"] = "低血量 +1 傷害",
		["CharmStrength.Roulette_hintLabel.text"] = "第壹輪 +1 傷害",
		["FeetBootsExplorers.Roulette_hintLabel.text"] = "+1 先攻",
		["FeetBootsLeaping.Roulette_hintLabel.text"] = "+2 先攻，跳躍",
		["FeetBootsLunging.Roulette_hintLabel.text"] = "+3 先攻，沖刺",
		["RingCourage.Roulette_hintLabel.text"] = "自殺保護，每輪充能",
		["RingFrost.Roulette_hintLabel.text"] = "免疫冰凍",
		["RingGold.Roulette_hintLabel.text"] = "x2 金幣掉落",
		["RingLuck.Roulette_hintLabel.text"] = "+2 幸運",
		["RingMana.Roulette_hintLabel.text"] = "更好的冰凍與護盾",
		["RingPain.Roulette_hintLabel.text"] = "+1 額外行動力，每回合疼痛",
		["RingPeace.Roulette_hintLabel.text"] = "不再分配鼓，+1 心之容器",
		["RingPiercing.Roulette_hintLabel.text"] = "穿刺傷害，秒殺無頭骷髅",
		["RingRegeneration.Roulette_hintLabel.text"] = "擊殺回血，每輪充能",
		["RingShielding.Roulette_hintLabel.text"] = "護盾守護 4 回合，每局充能",
		["RingWar.Roulette_hintLabel.text"] = "分配更多鼓，壓制性傷害",
		["Food1.Roulette_hintLabel.text"] = "+1健康\n對友方或自己使用",
		["Food2.Roulette_hintLabel.text"] = "+1健康\n對友方或自己使用",
		["Food3.Roulette_hintLabel.text"] = "+1健康\n對友方或自己使用",
		["Food4.Roulette_hintLabel.text"] = "+1健康\n對友方或自己使用",
		["HolyWater.Roulette_hintLabel.text"] = "清除當前子彈\n對槍使用",
		["ScrollFreezeEnemies.Roulette_hintLabel.text"] = "凍結所有對手壹回合\n對對手使用",
		["ScrollShield.Roulette_hintLabel.text"] = "無敵護盾 2 回合, 並跳過當前回合\n對友方或自己使用",
		["ScrollTransmute.Roulette_hintLabel.text"] = "轉換所有子彈\n對槍使用",
		["TomeFreeze.Roulette_hintLabel.text"] = "凍結對手壹回合\n對對手使用",
		["TomeShield.Roulette_hintLabel.text"] = "無敵護盾1回合, 並跳過當前回合\n對友方或自己使用",
		["TomeTransmute.Roulette_hintLabel.text"] = "轉換當前子彈\n對槍使用",
		["WarDrum.Roulette_hintLabel.text"] = "+1 傷害，3/5 連擊: +2/+3\n對槍使用",
	},
}

local componentTranslations = {
	[Translation.Language.SIMPLIFIED_CHINESE] = {
		Roulette_judgeFlyawayEndGame = { format = "赢家：%s" },
		Roulette_judgeFlyawayNextRound = { format = "第 %s 轮" },
		Roulette_judgeHintLabelOnCursor = { format = "第 %s 轮\n%s 的回合" },
		Roulette_rogueModeParryFlyawayOverride = { text = "闪避！" },
		Roulette_cursorSlotLabel = { text = "交互" },
		Roulette_gamblerParry = { flyawayCounterAttack = "准备反击！" },
		Roulette_gamblerTextBeginTurn = { text = "你的回合", format = "%s 的回合" },
		Roulette_gamblerTextEndTurn = { text = "回合结束" },
		Roulette_gunHintLabelOnCursor = { text = "%s 伤害\n对对手或自己使用" },
		Roulette_gunReloadFlyaway = { format = "%s \3#ff0000实弹\3r，%s \3#00ff00空弹\3r" },
		Roulette_itemCharmFood = { flyaway = "暴食！\n获得额外行动力！（%s）" },
		Roulette_itemGamblerEndTurnDamage = { flyaway = "痛苦！" },
		Roulette_itemGamblerProtection = { flyaway = "死亡保护！" },
		Roulette_itemGamblerSuicideProtection = { flyaway = "勇气！" },
		Roulette_itemUseAddGamblerExtraActions = { flyaway = "获得额外行动力！（%s）" },
	},
	[Translation.Language.TRADITIONAL_CHINESE] = {
		Roulette_judgeFlyawayEndGame = { format = "贏家：%s" },
		Roulette_judgeFlyawayNextRound = { format = "第 %s 輪" },
		Roulette_judgeHintLabelOnCursor = { format = "第 %s 輪\n%s 的回合" },
		Roulette_rogueModeParryFlyawayOverride = { text = "閃避！" },
		Roulette_cursorSlotLabel = { text = "交互" },
		Roulette_gamblerParry = { flyawayCounterAttack = "准備反擊！" },
		Roulette_gamblerTextBeginTurn = { text = "妳的回合", format = "%s 的回合" },
		Roulette_gamblerTextEndTurn = { text = "回合結束" },
		Roulette_gunHintLabelOnCursor = { text = "%s 傷害\n對對手或自己使用" },
		Roulette_gunReloadFlyaway = { format = "%s \3#ff0000實彈\3r，%s \3#00ff00空彈\3r" },
		Roulette_itemCharmFood = { flyaway = "暴食！\n獲得額外行動力！（%s）" },
		Roulette_itemGamblerEndTurnDamage = { flyaway = "痛苦！" },
		Roulette_itemGamblerProtection = { flyaway = "死亡保護！" },
		Roulette_itemGamblerSuicideProtection = { flyaway = "勇氣！" },
		Roulette_itemUseAddGamblerExtraActions = { flyaway = "獲得額外行動力！（%s）" },
	},
}

event.entitySchemaLoadEntity.add("applyLocalizableStrings", {
	order = "localization",
	sequence = 1,
}, function(ev)
	local function foreachLocalizableFields(func)
		for componentName, fields in pairs(ev.entity) do
			if type(fields) == "table" then
				local localizableFields = Components.getLocalizableFields(componentName)
				if localizableFields then
					func(componentName, fields, localizableFields)
				end
			end
		end
	end

	local data = entityTranslations[Translation.getSessionTranslation()]
	if data then
		foreachLocalizableFields(function(componentName, fields, localizableFields)
			for _, field in ipairs(localizableFields) do
				fields[field.name] = data[("%s.%s.%s"):format(ev.entity.name, componentName, field.name)] or fields[field.name]
			end
		end)
	end

	data = componentTranslations[Translation.getSessionTranslation()]
	if data then
		foreachLocalizableFields(function(componentName, fields, localizableFields)
			local fieldTexts = data[componentName]
			if fieldTexts then
				for _, field in ipairs(localizableFields) do
					local val = fields[field.name]
					if val == nil or val == field.default then
						fields[field.name] = fieldTexts[field.name] or val
					end
				end
			end
		end)
	end
end)

local global = {
	[Translation.Language.BUILT_IN] = {
		Bullet_Blank = L("blank", "g.bullet.blank"),
		Bullet_Invalid = L("invalid", "g.bullet.invalid"),
		Bullet_Live = L("live", "g.bullet.live"),
		Location_2 = L("2nd", "g.location.2nd"),
		Location_3 = L("3rd", "g.location.3rd"),
		Location_4 = L("4th", "g.location.4th"),
		Location_Next = L("Next", "g.location.Next"),
		Roulette = L("Roulette", "g.roulette"),
		RouletteRogue = L("Roulette All Zones", "g.rouletteRogue"),
		RouletteRogueSeeded = L("Roulette All Zones (seeded)", "g.rouletteRogueSeeded"),
		SpeedrunTimer = L("Speedrun", "g.speedrun"),
		SpeedrunTimerSeeded = L("Seeded speedrun", "g.speedrunTimerSeeded"),
		TimeShrine_1 = L("Match speed: normal", "g.timeShrine.1"),
		TimeShrine_2 = L("Match speed: fast", "g.timeShrine.2"),
		TimeShrine_3 = L("Match speed: very fast", "g.timeShrine.3"),
	},
	[Translation.Language.SIMPLIFIED_CHINESE] = {
		Bullet_Blank = "空弹",
		Bullet_Invalid = "非法",
		Bullet_Live = "实弹",
		Location_2 = "2",
		Location_3 = "3",
		Location_4 = "4",
		Location_Next = "下一",
		Roulette = "轮盘赌",
		RouletteRogue = "轮盘赌 全区域",
		RouletteRogueSeeded = "轮盘赌 全区域（有种子）",
		SpeedrunTimer = "速通",
		SpeedrunTimerSeeded = "速通（有种子）",
		TimeShrine_1 = "比赛速度: 普通",
		TimeShrine_2 = "比赛速度: 快",
		TimeShrine_3 = "比赛速度: 极快",
	},
	[Translation.Language.TRADITIONAL_CHINESE] = {
		Bullet_Blank = "空彈",
		Bullet_Invalid = "非法",
		Bullet_Live = "實彈",
		Location_2 = "2",
		Location_3 = "3",
		Location_4 = "4",
		Location_Next = "下壹",
		Roulette = "輪盤賭",
		RouletteRogue = "輪盤賭 全區域",
		RouletteRogueSeeded = "輪盤賭 全區域（有種子）",
		SpeedrunTimer = "速通",
		SpeedrunTimerSeeded = "速通（有種子）",
		TimeShrine_1 = "比賽速度: 普通",
		TimeShrine_2 = "比賽速度: 快",
		TimeShrine_3 = "比賽速度: 極快",
	}
}
return global[Translation.getSessionTranslation()] or global[Translation.Language.BUILT_IN]
